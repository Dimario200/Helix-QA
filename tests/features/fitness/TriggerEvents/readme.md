# Для автотестирования триггеров в Фитнес клубе созданы след.фичи:
- **`ТриггерБонусныеСчетаФитнес.feature`**  [Перейти к описанию](#title1)
- **`ТриггерЗаявкиСделкиФитнес.feature`**   [Перейти к описанию](#title2)
- **`ТриггерКлиентыФитнес.feature`**        [Перейти к описанию](#title3)
- **`ТриггерЛицевыеСчетаФитнес.feature`**   [Перейти к описанию](#title4)
- **`ТриггерЗанятиеФитнес.feature`**        [Перейти к описанию](#title5)
- **`ЧПУФитнесСтома.feature`**              [Перейти к описанию](#title6)

# Для автотестирования триггеров в Стоматологии созданы след.фичи:
- **`ТриггерБонусныеСчета.feature`**        [Перейти к описанию](#title7)    
- **`ТриггерЗаписиНаПриёмСтоматология`**    [Перейти к описанию](#title8)
- **`ТриггерЗаявкиСделкиСтома.feature`**    [Перейти к описанию](#title9)
- **`ТриггерЛицевыеСчетаСтома.feature`**    [Перейти к описанию](#title10)
- **`ТриггерПациентСтома.feature`**         [Перейти к описанию](#title11)
- **`ТриггерПриёмСтома.feature`**           [Перейти к описанию](#title12)
- **`ТриггерСотрудникиСтома.feature`**      [Перейти к описанию](#title13)

1. <a id="title1">Описание автотеста - Бонусные счета фитнес.</a>

___В данном фича файле проверяются следующие события: Начисление на бонусный счет, Окончание срока действия бонусного счета, Окончание срока действия начисления на бонусный счет, Списание с бонусного счета.___
<details><summary>#### Описание сценариев:</summary>
-   **Сценарий: Начальное заполнение ИБ.**

Удаляются все существующие триггерные события из списка. Генерируется случайное число, создается тренер, шаблон сообщения, клиент, персональная услуга, помещение.

-   **Сценарий: Проверка количество и порядок триггеров**

Проверяется выполнилось ли "Начальное заполениен ИБ" на ошибки. В случае возникновения ошибок весь фича файл останавливается. И проверяется какие триггеры присутствуют в выпадающем списке.

-   **Сценарий: Создание триггерных событий для фитнеса**

Создаются все триггерные события, которые были указаны для проверки выше.

-   **Сценарий: Активация - Начисление на бонусный счет**

Открывается справочник бонусный счетов в форме создания, в ней создается новый бонусный счет и приветственный начислением и этот вид бонусного счета добавляется клиенту.

-   **Сценарий: Активация - Окончание срока действия начисления на бонусный счет**

Создается новый вид бонусного счета со сроком действия, даты С и По выставляются на завтра. Данный счет добавляется клиенту и условие выполняется сразу.

-   **Сценарий: Активация - Списание с бонусного счета**

Через документ "Операции по бонусного счету" делается списание со счета клиента. После запускается регламент регистрации триггерных событий.

-   **Сценарий:  Проверка журнала - Начисление на бонусный счет**
-   **Сценарий:  Проверка журнала - Окончание срока действия бонусного счета**
-   **Сценарий:  Проверка журнала - Окончание срока действия начисления на бонусный счет**
-   **Сценарий:  Проверка журнала - Списание с бонусного счета**

Во всех сценариях проверки журнала, проверяется журнал регистрации триггерных событиях, проверяется сама табличная часть на наличие событий которые в автотесте записаны в шаблон.
</details>
2. <a id="title2">Описание автотеста - Заявки/Cделки фитнес.</a>

___В данном фича файле для Заявок проверяется событие "Заявка не обработана в течение", а для Сделок проверяются: Задержка на этапе более, Задержка на этапе каждые,Переход с этапа на этап.___

#### Описание сценариев:
-   **Сценарий: Начальное заполнение ИБ.**

Удаляются все существующие триггерные события из списка. Генерируется случайное число, создается тренер, шаблон сообщения, клиент, рекламный источник для заявок.

-   **Сценарий: Проверка количество и порядок триггеров**

Проверяется выполнилось ли "Начальное заполениен ИБ" на ошибки. В случае возникновения ошибок весь фича файл останавливается. И проверяется какие триггеры присутствуют в выпадающем списке.

-   **Сценарий: Создание триггеров по Заявкам/Обращениям в фитнесе.**

Создается триггер по заявкам с условием "Заявка не обработана в течение" с выбранным временем в одну минуту.

-   **Сценарий: Создание триггеров по сделкам в фитнесе.**

Создаются три триггерных события с условиями: Задержка на этапе более, Задержка на этапе каждые, Переход с этапа на этап.

-   **Сценарий: Активация триггеров по заявкам.**

Создается заявка на текущую дату и время.

-   **Сценарий: Активация триггеров по сделкам.**

Активация - Переход с этапа на этап. Для него создается сделка с датой на Позавчера. 

Активация - Задержка на этапе каждые (1 день). Программно создается сделка на задние число. Потом через универсальный редактор данной сделке делается смена этапа с указанием даты Позавчера. После запускается регламент регистрации триггерных событий.

-   **Проверка журнала триггеров по заявкам фитнеса**
-   **Проверка журнала триггеров по заявкам фитнеса**

Во всех сценариях проверки журнала, проверяется журнал регистрации триггерных событиях, проверяется сама табличная часть на наличие событий которые в автотесте записаны в шаблон.