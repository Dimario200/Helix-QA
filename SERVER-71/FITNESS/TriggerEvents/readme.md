##Для автотестирования созданны следующие файлы:
- **`ТриггерБонусныеСчетаФитнесСтома.feature`**
- **`ТриггерЗаписиНаПриёмСтоматология.feature`**
- **`ТриггерЗаявкиСделкиФитнесСтома.feature`**
- **`ТриггерКлиентыПациентыФитнесСтома.feature`**
- **`ТриггерЛицевыеСчетаФитнесСтома.feature`**
- **`ТриггерПриёмЗанятиеФитнесСтома.feature`**
- **`ТриггерСотрудникиФитнесСтома.feature`**
- **`ЧПУФитнесСтома.feature`**


Описание работы фичи - ТриггерБонусныеСчетаФитнесСтома.
---

1. **Сценарий: 01.** Начальное заполнение ИБ.
>   Для Фитнеса: Удаляются все существующие триггерные события. Создаются: Тренер, Шаблон сообщений, Клиент, Персональная услуга, Помещение.

>   Для Стоматологии: Удаляются все существующие триггерные события. Создаются: Шаблон сообщений, Пациент, Врач, Товар.

2. **Сценарий: 02.** Проверка количество и порядок триггеров.
>   Для Фитнеса и Стоматологии: В выбранном событие проверяется выпадающий список, нужно это для того, чтобы выявить появление новых условий отрабатывания триггера.

3. **Сценарий: 03.** Создание триггерных событий для фитнеса и стоматологии.
>   Для Фитнеса и Стоматологии: Для каждого продукта создаются триггерные события связанные с бонусными счетами.

4. **Сценарий: 04.** Активация - Начисление на бонусный счет.
>   Для Фитнеса и Стоматологии: Создается вид бонусного счета с приветственным начислением. И уже созданному клиенту добавляется данный вид бонусного счета.

5. **Сценарий: 05.** Активация - Окончание срока действия начисления на бонусный счет.
>   Только для Фитнес: Создается вид бонусного счета, где срок действия начисления заканчивается завтра и данный счет добавляется Клиенту.

6. **Сценарий: 06.** Активация - Списание с бонусного счета.
>   Для Фитнеса и Стоматологии: В документе "Операции по бонусному счету" проводится операция Списания бонусов.

7. **Сценарий: 07.** Запускаю регламента - Регистрация триггерных событий.
>   Происходит запуск регламента по триггерным событиям с такой же проверкой какой это продукт.

8. **Сценарий: 08.** Проверка журнала - Начисление на бонусный счет.
>   Для Фитнес и Стоматологии: В общем списке триггерных событий открывается нужное нам событие и в нем уже перейдя в раздел "Журнал событий триггера" проверяется табличная часть по шаблону.

9. **Сценарий: 9.** Проверка журнала - Окончание срока действия бонусного счета.
>   Для Фитнеса: Аналогичная проверка как из сценария 08, но только в рамках фитнеса.

10. **Сценарий: 10.** Проверка журнала - Окончание срока действия начисления на бонусный счет.
>   Для Фитнеса: Аналогичная проверка как из сценария 08, но только в рамках фитнеса.

11. **Сценарий: 11.** Проверка журнала - Списание с бонусного счета.
>   Для Фитнеса и Стоматологии: Аналогичная проверка как из сценария 08.

Описание работы фичи - ТриггерЗаписиНаПриёмСтоматология.
---

**Контекст**
>   В контексте стоит условие, что если данный фича файл запущен в Фитнес клубе, то попросту будет полностью остановлено его выполнение.

1. **Сценарий: 01.** Начальное заполнение ИБ.
>   Включается константа "НеКонтролироватьЗанятостьСотрудников" и создаются нужные объекты для тестирования.

2. **Сценарий: 02.** Проверка количество и порядок триггеров
>   В выбранном событие проверяется выпадающий список, нужно это для того, чтобы выявить появление новых условий отрабатывания триггера.

3. **Сценарий: 03.** Создание триггеров для стоматологии.
>   Создаются все триггеры по событию "Приём" за исключением "Смена статуса записи на прием пациентом", т.к нет возможно вызвать это когда нет метода API нужного.

4. **Сценарий: 04.** Активация триггерных событий стоматологии.
>   Создаются две записи, одна через документ Событие, а другая также через документ Событие, но с помощью шага который создает программно "И я программно создаю документ "Событие" с реквизитами". Программно создается для того, чтобы можно было потом поменять статус самой записи.

5. **Сценарий: 05.** Активация регламента триггерных событий.
>   Происходит запуск регламента по триггерным событиям с такой же проверкой какой это продукт.

6. **Сценарий: 06.** Проверка журнала регистрации триггерных событий.
>   В одном сценарии проверяются все триггеры по стоматологии.

7. **Сценарий: 07.** Возврат настройки.
>   Отключаю константу "НеКонтролироватьЗанятостьСотрудников".

Описание работы фичи - ТриггерЗаявкиСделкиФитнесСтома.
---

1. **Сценарий: 01.** Начальное заполнение ИБ.
>   Для Фитнеса и Стоматологии: Удаляются все заявкии сделки из справочников. Создаются: Шаблоны сообщений, Тренер/Врач, Клиент/Пациент, Рекламный источник для заявки.

2. **Сценарий: 02.** Проверка количество и порядок триггеров.
>   В выбранном событие проверяется выпадающий список, нужно это для того, чтобы выявить появление новых условий отрабатывания триггера.   

3. **Сценарий: 03.** Создание триггеров по Заявкам/Обращениям в фитнесе и стоматологии.
>   Для Фитнеса и Стоматологии: Создаются события по заявкам и обращениям.

4. **Сценарий: 04.** Создание триггеров по сделкам в фитнесе и стоматологии.
>   Для Фитнеса и Стоматологии: Создаются события по сделкам, за исключением однго из стоматологии - Задержка на этапе каждые.

5. **Сценарий: 05.** Активация триггеров по заявкам.
>   Для Фитнеса и Стоматологии: Создаются заявки и обращения для активации триггеров.

6. **Сценарий: 06.** Активация триггеров по сделкам.
>   Для Фитнеса и Стоматологии: Создаются сделки для активации триггеров.

7. **Сценарий: 07.** Запускаю регламента - Регистрация триггерных событий.
>   Происходит запуск регламента по триггерным событиям с такой же проверкой какой это продукт.

8. **Сценарий: 08.** Проверка журнала триггеров по заявкам фитнеса и стоматологии.
>   В обоих продуктах проверяются триггеры по заявкам.

9. **Сценарий: 09.** Проверка журнала триггеров по сделкам фитнеса и стоматологии.
>   В обоих продуктах проверяются триггеры по сделкам.

Остальные сценарии реализованы практически по такому же принципу как и те, что описаны выше.
---